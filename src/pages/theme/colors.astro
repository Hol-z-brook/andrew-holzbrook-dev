---
import AppPage from "../_app/_AppPage.astro";
import AppPageBody from "../_app/_AppPageBody.astro";
import AppPageHeader from "../_app/_AppPageHeader.astro";
import AppPageSection from "../_app/_AppPageSection.astro";
import ThemeSection from "../../components/theme/ThemeSection.astro";
import ThemeSectionHeader from "../../components/theme/ThemeSectionHeader.astro";
import ThemeSectionBody from "../../components/theme/ThemeSectionBody.astro";
import ThemePageBackLink from "./_ui/_ThemePageBackLink.astro";
import ThemePageTitle from "./_ui/_ThemePageTitle.astro";
import ThemePageDescription from "./_ui/_ThemePageDescription.astro";
import ThemePageHeader from "./_ui/_ThemePageHeader.astro";
import A from "../../lib/ui/A.astro";
import Box from "../../lib/ui/Box.astro";
import H4 from "../../lib/ui/H4.astro";
import Li from "../../lib/ui/Li.astro";
import Nav from "../../lib/ui/Nav.astro";
import P from "../../lib/ui/P.astro";
import Ul from "../../lib/ui/Ul.astro";
import { theme } from "../../theme";

const colorScales = Object.entries(theme.colors).filter(([_, value]) => 
  typeof value === 'object'
);
const singleColors = Object.entries(theme.colors).filter(([_, value]) => 
  typeof value === 'string'
);

const sections = [
  { id: 'color-scales', label: 'Color Scales' },
  { id: 'base-colors', label: 'Base Colors' },
  { id: 'gradients', label: 'Gradients' }
];
---

<AppPage>
  <AppPageHeader />
  <AppPageBody class="bg-gray-50">
    <AppPageSection>
      <Box class="max-w-[90rem] mx-auto py-16 px-6">
        <ThemePageHeader>
          <ThemePageBackLink />
          <ThemePageTitle>Colors</ThemePageTitle>
          <ThemePageDescription>
            Our color system is designed to be accessible, consistent, and flexible. It includes a range of scales for primary and neutral colors, along with single-value colors and gradients.
          </ThemePageDescription>
        </ThemePageHeader>

        <!-- Navigation -->
        <Nav class="mb-16">
          <Ul class="flex flex-col gap-2">
            <Li>
              <Box class="px-4 py-2 text-gray-900 font-medium">Colors</Box>
              <Ul class="ml-4 mt-1 border-l border-gray-200 space-y-1">
                {sections.map(({ id, label }) => (
                  <Li>
                    <A
                      href={`#${id}`}
                      class="block pl-4 py-1.5 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-md transition-colors text-sm"
                    >
                      {label}
                    </A>
                  </Li>
                ))}
              </Ul>
            </Li>
          </Ul>
        </Nav>

        <Box class="space-y-24">
          <!-- Color Scales -->
          <ThemeSection id="color-scales">
            <ThemeSectionHeader title="Color Scales">
              <P class="text-lg text-gray-600 mt-4">
                Color scales provide a range of shades for each primary color, allowing for consistent and accessible color usage across the application.
              </P>
            </ThemeSectionHeader>
            <ThemeSectionBody class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-16">
              {colorScales.map(([name, scale]) => (
                <Box class="space-y-6">
                  <H4 class="text-2xl font-medium capitalize">{name}</H4>
                  <Box class="grid grid-cols-10 gap-3">
                    {Object.entries(scale).map(([shade, color]) => (
                      <Box class="space-y-3">
                        <Box 
                          class="h-20 rounded-md shadow-sm" 
                          style={`background-color: ${color}`}
                        />
                        <Box class="text-sm text-center font-medium">{shade}</Box>
                      </Box>
                    ))}
                  </Box>
                </Box>
              ))}
            </ThemeSectionBody>
          </ThemeSection>

          <!-- Single Colors -->
          <ThemeSection id="base-colors">
            <ThemeSectionHeader title="Base Colors">
              <P class="text-lg text-gray-600 mt-4">
                Single-value colors are used for specific purposes where a consistent, non-scaled color is needed.
              </P>
            </ThemeSectionHeader>
            <ThemeSectionBody class="grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-12">
              {singleColors.map(([name, color]) => (
                <Box class="space-y-4">
                  <Box 
                    class="h-32 rounded-lg shadow-md" 
                    style={`background-color: ${color}`}
                  />
                  <Box class="text-base font-medium capitalize">{name}</Box>
                </Box>
              ))}
            </ThemeSectionBody>
          </ThemeSection>

          <!-- Gradients -->
          <ThemeSection id="gradients">
            <ThemeSectionHeader title="Gradients">
              <P class="text-lg text-gray-600 mt-4">
                Gradients add depth and visual interest to the interface, perfect for backgrounds and decorative elements.
              </P>
            </ThemeSectionHeader>
            <ThemeSectionBody class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-16">
              {Object.entries(theme.gradients).map(([name, gradient]) => (
                <Box class="space-y-6">
                  <H4 class="text-2xl font-medium capitalize">{name}</H4>
                  <Box 
                    class="h-40 rounded-lg shadow-md" 
                    style={`background: linear-gradient(to right, ${gradient.start}, ${gradient.mid1}, ${gradient.mid2}, ${gradient.end})`}
                  />
                  <Box class="grid grid-cols-4 gap-6">
                    {Object.entries(gradient).map(([position, color]) => (
                      <Box class="text-sm">
                        <Box class="font-medium capitalize">{position}</Box>
                        <Box class="text-gray-500 mt-1">{color}</Box>
                      </Box>
                    ))}
                  </Box>
                </Box>
              ))}
            </ThemeSectionBody>
          </ThemeSection>
        </Box>
      </Box>
    </AppPageSection>
  </AppPageBody>
</AppPage> 