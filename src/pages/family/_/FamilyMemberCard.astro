---
import { H1, H2, P, Strong } from '../../../lib/ui/typography';
import { interests, type FamilyMember } from './data';

interface Props {
  familyMember: FamilyMember;
  class?: string;
}

const {
  class: className,
  familyMember: { firstName, middleName, role, bio, interests: memberInterests, emoji },
}: Props = Astro.props;
---

<section class:list={['bg-white rounded-lg shadow-sm border border-gray-200 p-6', className]}>
  <div class="flex flex-col gap-6">
    {/* Header section */}
    <div class="space-y-2">
      <div class="flex items-center gap-4">
        <div
          class="w-12 h-12 rounded-full bg-gray-50 border border-gray-200 flex items-center justify-center text-3xl flex-shrink-0"
        >
          {emoji}
        </div>
        <H1>{firstName}</H1>
      </div>
      <div class="space-y-1 text-sm text-gray-600">
        <P><Strong>Role:</Strong> {role}</P>
        <P>
          <Strong>Middle Name:</Strong>
          <span>{middleName}</span>
        </P>
      </div>
    </div>

    {/* Bio section */}
    {
      bio && (
        <div class="space-y-2">
          <H2 class="text-lg font-medium text-gray-600">About</H2>
          <div class="prose prose-gray max-w-none">
            <P>{bio}</P>
          </div>
        </div>
      )
    }

    {/* Interests section */}
    {
      memberInterests && memberInterests.length > 0 && (
        <div class="space-y-2">
          <H2 class="text-lg font-medium text-gray-600">Interests</H2>
          <div class="flex flex-wrap gap-2">
            {memberInterests.map(interestId => {
              const interest = interests[interestId];
              return (
                <Strong
                  class:list={[
                    'inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200 hover:opacity-80',
                    interest.color,
                  ]}
                >
                  <span>{interest.emoji}</span>
                  {interest.name}
                </Strong>
              );
            })}
          </div>
        </div>
      )
    }
  </div>
</section>
